/**
 * SWFAddress 2.2: Deep linking for Flash and Ajax <http://www.asual.com/swfaddress/>
 *
 * SWFAddress is (c) 2006-2008 Rostislav Hristov and contributors
 * This software is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
 *
 */
if(typeof com=="undefined"){com={};}if(typeof com.asual=="undefined"){com.asual={};}if(typeof com.asual.swfaddress=="undefined"){com.asual.swfaddress={};}if(typeof com.asual.util=="undefined"){com.asual.util={};}com.asual.util.Browser=new function(){var B=-1,D=navigator.userAgent,I=false,H=false,F=false,A=false,C=false,G=false,J=false;var E=function(L,K){return parseFloat(D.substr(D.indexOf(L)+K));};if(I=/MSIE/.test(D)){B=E("MSIE",4);}if(F=/AppleWebKit/.test(D)){B=E("Safari",7);}if(A=/Opera/.test(D)){B=parseFloat(navigator.appVersion);}if(H=/Camino/.test(D)){B=E("Camino",7);}if(G=/Netscape/.test(D)){B=E("Netscape",9);}if(C=(/Firefox/.test(D)&&!H&&!G)){B=E("Firefox",8);}if(J=/Mozilla/.test(D)&&/rv:/.test(D)){B=E("rv:",3);}this.toString=function(){return "[class Browser]";};this.getVersion=function(){return B;};this.isIE=function(){return I;};this.isSafari=function(){return F;};this.isOpera=function(){return A;};this.isCamino=function(){return H;};this.isFirefox=function(){return C;};this.isNetscape=function(){return G;};this.isMozilla=function(){return J;};};com.asual.util.Events=new function(){var C="DOMContentLoaded",G="onstop",I=window,F=document,B=[],A=com.asual.util,D=A.Browser;this.toString=function(){return "[class Events]";};this.addListener=function(L,J,K){B.push({o:L,t:J,l:K});if(!(J==C&&(D.isIE()||D.isSafari()))){if(L.addEventListener){L.addEventListener(J,K,false);}else{if(L.attachEvent){L.attachEvent("on"+J,K);}}}};this.removeListener=function(N,K,L){for(var J=0,M;M=B[J];J++){if(M.o==N&&M.t==K&&M.l==L){B.splice(J,1);break;}}if(!(K==C&&(D.isIE()||D.isSafari()))){if(N.removeEventListener){N.removeEventListener(K,L,false);}else{if(N.detachEvent){N.detachEvent("on"+K,L);}}}};var H=function(){for(var K=0,J;J=B[K];K++){if(J.t!=C){A.Events.removeListener(J.o,J.t,J.l);}}};var E=function(){if(F.readyState=="interactive"){function J(){F.detachEvent(G,J);H();};F.attachEvent(G,J);I.setTimeout(function(){F.detachEvent(G,J);},0);}};if(D.isIE()||D.isSafari()){(function(){try{if((D.isIE()&&F.body)||!/loaded|complete/.test(F.readyState)){F.documentElement.doScroll("left");}}catch(K){return setTimeout(arguments.callee,0);}for(var J=0,K;K=B[J];J++){if(K.t==C){K.l.call(null);}}})();}if(D.isIE()){I.attachEvent("onbeforeunload",E);}this.addListener(I,"unload",H);};com.asual.util.Functions=new function(){this.toString=function(){return "[class Functions]";};this.extend=function(C,A){function B(){};B.prototype=C.prototype;A.prototype=new B();A.prototype.constructor=A;A.superConstructor=C;A.superClass=C.prototype;return A;};this.bind=function(F,B,E){for(var C=2,D,A=[];D=arguments[C];C++){A.push(D);}return function(){return F.apply(B,A);};};};com.asual.swfaddress.WEBAddressEvent=function(D){var A=com.asual.swfaddress.WEBAddress;this.toString=function(){return "[object WEBAddressEvent]";};this.type=D;this.target=[A][0];this.value=A.getValue();this.path=A.getPath();this.pathNames=A.getPathNames();this.parameters={};var E=A.getParameterNames();for(var C=0,B=E.length;C<B;C++){this.parameters[E[C]]=A.getParameter(E[C]);}this.parametersNames=E;};com.asual.swfaddress.WEBAddressEvent.INIT="init";com.asual.swfaddress.WEBAddressEvent.CHANGE="change";com.asual.swfaddress.WEBAddress=new function(){var ID="",_30="function",_31="undefined",_32=com.asual.swfaddress,_33=com.asual.util,_34=_33.Browser,_35=_33.Events,_36=_33.Functions,_37=_34.getVersion(),_38=false,_t=top,_d=_t.document,_h=_t.history,_l=_t.location,_si=setInterval,_st=setTimeout,_dc=decodeURIComponent,_ec=encodeURIComponent,_41,_42,_43,_44=_d.title,_45=_h.length,_46=false,_47=false,_48=true,_49=true,_4a=[],_4b={},_4c={history:true,html:false,strict:true,tracker:"_trackDefault"};if(_34.isIE()){_38=_37>=6;}if(_34.isSafari()){_38=_37>=312;}if(_34.isOpera()){_38=_37>=9.02;}if(_34.isCamino()){_38=_37>=1;}if(_34.isFirefox()){_38=_37>=1;}if(_34.isNetscape()){_38=_37>=8;}if(_34.isMozilla()){_38=_37>=1.8;}if((!_38&&_l.href.indexOf("#")!=-1)||(_34.isSafari()&&_37<412&&_l.href.indexOf("#")!=-1&&_l.search!="")){_d.open();_d.write("<html><head><meta http-equiv=\"refresh\" content=\"0;url="+_l.href.substr(0,_l.href.indexOf("#"))+"\" /></head></html>");_d.close();}var _4d=function(){var _4e=_l.href.indexOf("#");return _4e!=-1?_l.href.substr(_4e+1):"";};var _4f=_4d();var _50=function(_51,_52){if(_4c.strict){_51=_52?(_51.substr(0,1)!="/"?"/"+_51:_51):(_51==""?"/":_51);}return _51;};var _53=function(_54){return (_34.isIE()&&_l.protocol=="file:")?_4f.replace(/\?/,"%3F"):_54;};var _55=function(el){for(var i=0,l=el.childNodes.length,s;i<l;i++){if(el.childNodes[i].src){_43=String(el.childNodes[i].src);}if(s=_55(el.childNodes[i])){return s;}}};var _5a=function(){if(_34.isIE()&&_d.title!=_44&&_d.title.indexOf("#")!=-1){_d.title=_44;if(_4c.html&&_41&&_41.contentWindow&&_41.contentWindow.document){_41.contentWindow.document.title=_44;}}};var _5b=function(){if(!_46){var _5c=_4d();if(_34.isIE()){if(_4f!=_5c){if(_37<7){_l.reload();}else{this.setValue(_5c);}}}else{if(_34.isSafari()&&_37<523){if(_45!=_h.length){_45=_h.length;if(typeof _4a[_45-1]!=_31){_4f=_4a[_45-1];}_5d.call(this);}}else{if(_4f!=_5c){_4f=_5c;_5d.call(this);}}}_5a.call(this);}};var _5e=function(_5f){this.dispatchEvent(new _32.WEBAddressEvent(_5f));_5f=_5f.substr(0,1).toUpperCase()+_5f.substr(1);if(typeof this["on"+_5f]==_30){this["on"+_5f]();}};var _60=function(){_5e.call(this,"init");};var _61=function(){_5e.call(this,"change");};var _5d=function(){_61.call(this);_st(_36.bind(_62,this),10);};var _63=function(_64){if(typeof urchinTracker==_30){urchinTracker(_64);}if(typeof pageTracker!=_31&&typeof pageTracker._trackPageview==_30){pageTracker._trackPageview(_64);}};eval("var _trackDefault = "+_63+";");var _62=function(){if(typeof _4c.tracker!=_31&&eval("typeof "+_4c.tracker+" != \""+_31+"\"")){var fn=eval(_4c.tracker);if(typeof fn==_30){fn((_l.pathname+(/\/$/.test(_l.pathname)?"":"/")+this.getValue()).replace(/\/\//,"/").replace(/^\/$/,""));}}};var _66=function(){var doc=_41.contentWindow.document;doc.open();doc.write("<html><head><title>"+_d.title+"</title><script>var "+ID+" = \""+_ec(_4d())+"\";</script></head></html>");doc.close();};var _68=function(){var win=_41.contentWindow;var src=win.location.href;_4f=(_4c.html)?(src.indexOf("?")>-1?_dc(src.substr(src.indexOf("?")+1)):""):(typeof win[ID]!=_31?_dc(win[ID]):"");if(_4c.html){win.document.title=_44;}if(_4f!=_4d()){_5d.call(_32.WEBAddress);_l.hash=_53(_4f);}};var _6b=function(){if(!_47){_47=true;var _6c="id=\""+ID+"\" style=\"position:absolute;top:-9999px;\"";if(_34.isIE()&&_37<8){_d.body.appendChild(_d.createElement("div")).innerHTML="<iframe "+_6c+" src=\""+(_4c.html?_43.replace(/\.js(\?.*)?$/,".html")+"?"+_ec(_4d()):"javascript:false;")+"\" width=\"0\" height=\"0\"></iframe>";_41=_d.getElementById(ID);_st(function(){_35.addListener(_41,"load",_68);if(!_4c.html&&typeof _41.contentWindow[ID]==_31){_66();}},50);}else{if(_34.isSafari()){if(_37<412){_d.body.innerHTML+="<form "+_6c+" method=\"get\"></form>";_42=_d.getElementById(ID);}if(typeof _l[ID]==_31){_l[ID]={};}if(typeof _l[ID][_l.pathname]!=_31){_4a=_l[ID][_l.pathname].split(",");}}}_st(_36.bind(_60,this),1);_st(_36.bind(_61,this),2);_st(_36.bind(_62,this),10);if(_34.isIE()&&_37>=8){_d.body.onhashchange=_36.bind(_5b,this);_si(_36.bind(_5a,this),50);}else{_si(_36.bind(_5b,this),50);}}};this.onInit=null;this.onChange=null;this.toString=function(){return "[class WEBAddress]";};this.back=function(){_h.back();};this.forward=function(){_h.forward();};this.up=function(){var _6d=this.getPath();this.setValue(_6d.substr(0,_6d.lastIndexOf("/",_6d.length-2)+(_6d.substr(_6d.length-1)=="/"?1:0)));};this.go=function(_6e){_h.go(_6e);};this.addEventListener=function(_6f,_70){if(typeof _4b[_6f]==_31){_4b[_6f]=[];}_4b[_6f].push(_70);};this.removeEventListener=function(_71,_72){if(typeof _4b[_71]!=_31){for(var i=0,l;l=_4b[_71][i];i++){if(l==_72){break;}}_4b[_71].splice(i,1);}};this.dispatchEvent=function(_75){if(this.hasEventListener(_75.type)){_75.target=this;for(var i=0,l;l=_4b[_75.type][i];i++){l(_75);}return true;}return false;};this.hasEventListener=function(_78){return (typeof _4b[_78]!=_31&&_4b[_78].length>0);};this.getBaseURL=function(){var url=_l.href;if(url.indexOf("#")!=-1){url=url.substr(0,url.indexOf("#"));}if(url.substr(url.length-1)=="/"){url=url.substr(0,url.length-1);}return url;};this.getStrict=function(){return _4c.strict;};this.setStrict=function(_7a){_4c.strict=_7a;};this.getHistory=function(){return _4c.history;};this.setHistory=function(_7b){_4c.history=_7b;};this.getTracker=function(){return _4c.tracker;};this.setTracker=function(_7c){_4c.tracker=_7c;};this.getTitle=function(){return _d.title;};this.setTitle=function(_7d){if(!_38){return null;}if(typeof _7d==_31){return;}if(_7d=="null"){_7d="";}_44=_d.title=_7d;_st(function(){if((_49||_4c.html)&&_41&&_41.contentWindow&&_41.contentWindow.document){_41.contentWindow.document.title=_7d;_49=false;}if(!_48&&(_34.isCamino()||_34.isNetscape()||_34.isMozilla()||_34.isFirefox())){_l.replace(_l.href.indexOf("#")!=-1?_l.href:_l.href+"#");}_48=false;},50);};this.getStatus=function(){return _t.status;};this.setStatus=function(_7e){if(typeof _7e==_31){return;}if(!_34.isSafari()){_7e=_50((_7e!="null")?_7e:"",true);if(_7e=="/"){_7e="";}if(!(/http(s)?:\/\//.test(_7e))){var _7f=_l.href.indexOf("#");_7e=(_7f==-1?_l.href:_l.href.substr(0,_7f))+"#"+_7e;}_t.status=_7e;}};this.resetStatus=function(){_t.status="";};this.getValue=function(){if(!_38){return null;}return _50(_4f,false);};this.setValue=function(_80){if(!_38){return null;}if(typeof _80==_31){return;}if(_80=="null"){_80="";}_80=_50(_80,true);if(_80=="/"){_80="";}if(_4f==_80){return;}_48=true;_4f=_80;_46=true;_5d.call(_32.WEBAddress);_4a[_h.length]=_4f;if(_34.isSafari()){if(_4c.history){_l[ID][_l.pathname]=_4a.toString();_45=_h.length+1;if(_37<412){if(_l.search==""){_42.action="#"+_4f;_42.submit();}}else{if(_37<523||_4f==""){var evt=_d.createEvent("MouseEvents");evt.initEvent("click",true,true);var _82=_d.createElement("a");_82.href="#"+_4f;_82.dispatchEvent(evt);}else{_l.hash="#"+_4f;}}}else{_l.replace("#"+_4f);}}else{if(_4f!=_4d()){if(_4c.history){_l.hash="#"+_53(_4f);}else{_l.replace("#"+_4f);}}}if((_34.isIE()&&_37<8)&&_4c.history){if(_4c.html){var loc=_41.contentWindow.location;loc.assign(loc.pathname+"?"+_4d());}else{_st(_66,50);}}if(_34.isSafari()){_st(function(){_46=false;},1);}else{_46=false;}};this.getPath=function(){var _84=this.getValue();return (_84.indexOf("?")!=-1)?_84.split("?")[0]:_84;};this.getPathNames=function(){var _85=this.getPath();var _86=_85.split("/");if(_85.substr(0,1)=="/"){_86.splice(0,1);}if(_85.substr(_85.length-1,1)=="/"){_86.splice(_86.length-1,1);}return _86;};this.getQueryString=function(){var _87=this.getValue();var _88=_87.indexOf("?");return (_88!=-1&&_88<_87.length)?_87.substr(_88+1):"";};this.getParameter=function(_89){var _8a=this.getValue();var _8b=_8a.indexOf("?");if(_8b!=-1){_8a=_8a.substr(_8b+1);var _8c=_8a.split("&");var p,i=_8c.length;while(i--){p=_8c[i].split("=");if(p[0]==_89){return p[1];}}}return "";};this.getParameterNames=function(){var _8f=this.getValue();var _90=_8f.indexOf("?");var _91=[];if(_90!=-1){_8f=_8f.substr(_90+1);if(_8f!=""&&_8f.indexOf("=")!=-1){var _92=_8f.split("&");var i=0;while(i<_92.length){_91.push(_92[i].split("=")[0]);i++;}}}return _91;};if(_38){for(var i=1;i<_45;i++){_4a.push("");}_4a.push(_4d());if(_34.isIE()&&_l.hash!=_4d()){_l.hash="#"+_53(_4d());}_55(document);var _qi=_43.indexOf("?");if(_43&&_qi>-1){var _96,_97=_43.substr(_qi+1).split("&");for(var i=0,p;p=_97[i];i++){_96=p.split("=");if(/^(history|html|strict)$/.test(_96[0])){_4c[_96[0]]=(isNaN(_96[1])?eval(_96[1]):(parseFloat(_96[1])>0));}if(/^tracker$/.test(_96[0])){_4c[_96[0]]=_96[1];}}}if(/file:\/\//.test(_l.href)){_4c.html=false;}var _ei=_43.indexOf(".js"),l;if(_43&&_ei>-1){while(_ei--){l=_43.substr(_ei,1);if(/(\/|\\)/.test(l)){break;}ID=l+ID;}}_5a.call(this);if(window==_t){_35.addListener(document,"DOMContentLoaded",_36.bind(_6b,this));}_35.addListener(_t,"load",_36.bind(_6b,this));}else{_62();}};SWFAddressEvent=com.asual.swfaddress.SWFAddressEvent=function(A){SWFAddressEvent.superConstructor.apply(this,arguments);this.target=[SWFAddress][0];this.toString=function(){return "[object SWFAddressEvent]";};};com.asual.util.Functions.extend(com.asual.swfaddress.WEBAddressEvent,SWFAddressEvent);com.asual.swfaddress.SWFAddressEvent.INIT="init";com.asual.swfaddress.SWFAddressEvent.CHANGE="change";SWFAddress=com.asual.swfaddress.SWFAddress=new function(){var _9c="undefined",_t=top,_l=_t.location,_9f=this,_a0=[],_a1={},_a2=com.asual.util.Functions,_a3=com.asual.swfaddress.WEBAddress;for(var p in _a3){this[p]=_a3[p];}var _a5=function(_a6){this.dispatchEvent(new SWFAddressEvent(_a6));_a6=_a6.substr(0,1).toUpperCase()+_a6.substr(1);if(typeof this["on"+_a6]=="function"){this["on"+_a6]();}};var _a7=function(){_a5.call(this,"init");};var _a8=function(){_a9();_a5.call(this,"change");};var _a9=function(){for(var i=0,id,obj,_ad=SWFAddress.getValue(),_ae="setSWFAddressValue";id=_a0[i];i++){obj=document.getElementById(id);if(obj){if(obj.parentNode&&typeof obj.parentNode.so!=_9c){obj.parentNode.so.call(_ae,_ad);}else{if(!(obj&&typeof obj[_ae]!=_9c)){var _af=obj.getElementsByTagName("object");var _b0=obj.getElementsByTagName("embed");obj=((_af[0]&&typeof _af[0][_ae]!=_9c)?_af[0]:((_b0[0]&&typeof _b0[0][_ae]!=_9c)?_b0[0]:null));}if(obj){obj[_ae](_ad);}}}else{if(obj=document[id]){if(typeof obj[_ae]!=_9c){obj[_ae](_ad);}}}}};this.toString=function(){return "[class SWFAddress]";};this.addEventListener=function(_b1,_b2){if(typeof _a1[_b1]==_9c){_a1[_b1]=[];}_a1[_b1].push(_b2);};this.removeEventListener=function(_b3,_b4){if(typeof _a1[_b3]!=_9c){for(var i=0,l;l=_a1[_b3][i];i++){if(l==_b4){break;}}_a1[_b3].splice(i,1);}};this.dispatchEvent=function(_b7){if(typeof _a1[_b7.type]!=_9c&&_a1[_b7.type].length){_b7.target=this;for(var i=0,l;l=_a1[_b7.type][i];i++){l(_b7);}return true;}return false;};this.hasEventListener=function(_ba){return (typeof _a1[_ba]!=_9c&&_a1[_ba].length>0);};this.href=function(url,_bc){_bc=typeof _bc!=_9c?_bc:"_self";if(_bc=="_self"){self.location.href=url;}else{if(_bc=="_top"){_l.href=url;}else{if(_bc=="_blank"){window.open(url);}else{_t.frames[_bc].location.href=url;}}}};this.popup=function(url,_be,_bf,_c0){var _c1=window.open(url,_be,eval(_bf));eval(_c0);};this.getIds=function(){return _a0;};this.getId=function(_c2){return _a0[0];};this.setId=function(id){_a0[0]=id;};this.addId=function(id){this.removeId(id);_a0.push(id);};this.removeId=function(id){for(var i=0;i<_a0.length;i++){if(id==_a0[i]){_a0.splice(i,1);break;}}};_a3.addEventListener("init",_a2.bind(_a7,this));_a3.addEventListener("change",_a2.bind(_a8,this));(function(){var _c7;if(typeof FlashObject!=_9c){SWFObject=FlashObject;}if(typeof SWFObject!=_9c&&SWFObject.prototype&&SWFObject.prototype.write){var _s1=SWFObject.prototype.write;SWFObject.prototype.write=function(){_c7=arguments;if(this.getAttribute("version").major<8){this.addVariable("$swfaddress",SWFAddress.getValue());((typeof _c7[0]=="string")?document.getElementById(_c7[0]):_c7[0]).so=this;}var _c9;if(_c9=_s1.apply(this,_c7)){_9f.addId(this.getAttribute("id"));}return _c9;};}if(typeof swfobject!=_9c){var _ca=swfobject.registerObject;swfobject.registerObject=function(){_c7=arguments;_ca.apply(this,_c7);_9f.addId(_c7[0]);};var _cb=swfobject.createSWF;swfobject.createSWF=function(){_c7=arguments;_cb.apply(this,_c7);_9f.addId(_c7[0].id);};var _cc=swfobject.embedSWF;swfobject.embedSWF=function(){_c7=arguments;_cc.apply(this,_c7);_9f.addId(_c7[8].id);};}if(typeof UFO!=_9c){var _u=UFO.create;UFO.create=function(){_c7=arguments;_u.apply(this,_c7);_9f.addId(_c7[0].id);};}if(typeof AC_FL_RunContent!=_9c){var _a=AC_FL_RunContent;AC_FL_RunContent=function(){_c7=arguments;_a.apply(this,_c7);for(var i=0,l=_c7.length;i<l;i++){if(_c7[i]=="id"){_9f.addId(_c7[i+1]);}}};}})();};
